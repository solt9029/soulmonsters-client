query activeGameId {
  activeGameId
}

query game($id: Int!) {
  game(id: $id) {
    id
    turnUserId
    phase
    winnerUserId
    startedAt
    endedAt
    gameUsers {
      id
      userId
      user {
        displayName
        photoURL
      }
      energy
      lifePoint
      lastViewedAt
      actionTypes
    }
    gameCards {
      ...GameCard
    }
  }
}

mutation startGame($deckId: Int!) {
  startGame(deckId: $deckId) {
    id
  }
}

mutation dispatchGameAction($id: Int!, $data: DispatchGameActionInput!) {
  dispatchGameAction(id: $id, data: $data) {
    id
  }
}

fragment GameCard on GameCard {
  id
  originalUserId
  currentUserId
  zone
  position
  battlePosition
  name
  kind
  type
  attribute
  attack
  defence
  cost
  detail
  actionTypes
  card {
    id
    picture
  }
}
